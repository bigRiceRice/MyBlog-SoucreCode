---
title: Object.seal
author: BigRice
date: 2022-02-28
location: äº‘æ¢¦æ³½
summary: seal() é™æ€æ–¹æ³•å°†å¯†å°æŒ‡å®šå¯¹è±¡ï¼Œå¯¹è±¡å°†ä¸å¯æ‰©å±•ï¼Œä¸”æ‰€æœ‰è‡ªèº«å±æ€§éƒ½ä¸å¯é…ç½®çš„å¯¹è±¡
tags:
    - JsApi
    - ObjectMethods
---

`seal()` é™æ€æ–¹æ³•å°†å¯†å°æŒ‡å®šå¯¹è±¡ï¼Œå¯¹è±¡å°†ä¸å¯æ‰©å±•ï¼Œä¸”æ‰€æœ‰è‡ªèº«å±æ€§éƒ½ä¸å¯é…ç½®çš„å¯¹è±¡

 ```js
Object.seal(obj)
 ```

 - `obj` æŒ‡å®š**å¯†å°**çš„å¯¹è±¡

| æ­¤æ–¹æ³•çš„è¿”å›å€¼ | æ­¤æ–¹æ³•ä¼šå½±å“æºå¯¹è±¡å— | å…¼å®¹æ€§ |
| :------------: | :------------------: | :----: |
|     æºå¯¹è±¡     |        **ä¼š**        |   ğŸŸ¢    |



**ä½•ä¸ºå¯†å°ï¼Ÿ**

 - å¯†å°æ˜¯å¯¹è±¡**å®‰å…¨çº§åˆ«çš„ç¬¬ 2 çº§åˆ«**ï¼ˆ ä»…åœ¨æ‰€æœ‰å®ä¾‹æ–¹æ³•çš„åŸºç¡€ä¸Šå¾—å‡ºæ­¤ç»“è®º ï¼‰
 - å¯†å°çš„å¯¹è±¡ï¼Œé™¤ä¿®æ”¹å±æ€§å€¼ä»¥å¤–çš„æ“ä½œéƒ½ä¼šå¤±è´¥ï¼ˆ åˆ é™¤è¿™ä¸ªå±æ€§ä¹Ÿä¸è¡Œ ï¼‰
     - å…¶ä»–çš„é…ç½®æè¿°ç¬¦å°†ä¸å¯ä¿®æ”¹ ï¼ˆ `configurable:false` ï¼‰ï¼Œä¸”å¯¹è±¡ä¸å¯æ‰©å±•
 - **ä¸ä¼šå½±å“ä»åŸå‹é“¾ä¸Šç»§æ‰¿çš„å±æ€§**ï¼Œä½†ä¼šå½±å“ \_\_proto__ å±æ€§çš„å€¼

> **å¯†å°**åçš„å¯¹è±¡åŸæœ‰çš„å±æ€§å€¼è¿˜æ˜¯å¯ä»¥ä¿®æ”¹ï¼Œè‹¥è¦è¾¾åˆ°**å³å¯†å°åˆä¸å¯ä¿®æ”¹åŸå±æ€§å€¼**è¯¥æ€ä¹ˆåšï¼Ÿ
>
>   - å†è®¾ç½® `writable : false` ?
>   - ä¸€ä¸ªç®€å•çš„æ–¹æ³•æ˜¯è°ƒç”¨ `Object.freeze()` æ–¹æ³•ï¼Œ**å†»ç»“**ä¸€ä¸ªå¯¹è±¡
>



> ç¤ºä¾‹

`seal()` çš„ä½¿ç”¨

```js
//å£°æ˜ä¸€ä¸ªå¯¹è±¡
var obj = {             
    prop: function () { },
    foo: "bar"
};
//å¯ä»¥æ·»åŠ æ–°çš„å±æ€§,å·²æœ‰å±æ€§çš„å€¼å¯ä»¥ä¿®æ”¹,å¯ä»¥åˆ é™¤
obj.foo = "baz";
obj.lumpy = "woof";
delete obj.prop;

var o = Object.seal(obj);//å°† obj å¯†å°,ä¸”è¿”å›åŸå¯¹è±¡
console.log(o === obj);//true
console.log(Object.isSealed(obj));//true

//ä»ç„¶å¯ä»¥ä¿®æ”¹å¯†å°å¯¹è±¡ä¸Šçš„å±æ€§çš„å€¼
obj.foo = "quux";//ä¿®æ”¹æˆåŠŸ

//ä½†ä¸èƒ½æŠŠå¯†å°å¯¹è±¡çš„å±æ€§è¿›è¡Œé‡æ–°é…ç½®,è­¬å¦‚å°†æ•°æ®å±æ€§é‡å®šä¹‰æˆè®¿é—®å™¨å±æ€§.
Object.defineProperty(obj,"foo",{get : function(){return "g";}});//æŠ›å‡º TypeError

//ä»»ä½•é™¤ä¿®æ”¹å±æ€§å€¼ä»¥å¤–çš„æ“ä½œéƒ½ä¼šå¤±è´¥
obj.quaxxor = "the friendly duck";//é™é»˜å¤±è´¥,å…¶å®å±æ€§æ²¡æœ‰æˆåŠŸæ·»åŠ 
delete obj.foo;//é™é»˜å¤±è´¥,å…¶å®å±æ€§æ²¡æœ‰åˆ é™¤æˆåŠŸ

//åœ¨ä¸¥æ ¼æ¨¡å¼ä¸­,ä¼šæŠ›å‡º TypeError å¼‚å¸¸
(function fail() {
    "use strict";
    delete obj.foo;//æŠ›å‡º TypeError å¼‚å¸¸
    obj.sparky = "arf";//æŠ›å‡º TYpeError å¼‚å¸¸
})();

Object.defineProperty(obj, "ohai", { value: 17 });//æ·»åŠ å±æ€§å¤±è´¥
Object.defineProperty(obj, "foo", { value: "eit" });//ä¿®æ”¹æˆåŠŸ
console.log(obj.foo);//â€œeitâ€
```

