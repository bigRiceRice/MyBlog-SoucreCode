---
title: 你了解 Calc 吗？
author: BigRice
date: 2022-02-04
location: 云梦泽
summary: 关于 Css 中的 `Calc` 计算，大米饭是这样理解的...
tags:
    - Css
---

## clac()

##### clac 是英文单词 calculate (计算) 的缩写，从字面可以理解为一个**函数**，是 css3 的一个新增的功能，用来计算指定元素的长度 / 宽度 等任何数值。

-   ### clac() 能做什么？

clac() 简单来说就是插入了一个数学表达式，使用其计算返回的值作为某些属性的值，你可以给一个 div 元素，使用**百分比、em、px 和 rem**单位值计算出其宽度或者高度，其中百分比计算使得响应式布局更加简洁（原生）

-   ### clac() 的语法

语法为 `width:wlac(expression);` 其中 "expression" 是一个表达式，用来计算长度的表达式。

calc() 使用通用的数学运算规则，但是也提供更智能的功能：

1. 使用 “+”、“-”、“\*” 和 “/” 四则运算；
2. 可以使用百分比、px、em、rem 等单位；
3. 可以混合使用各种单位进行计算；
4. 表达式中有 “+” 和 “-” 时，其前后**必须**要有空格，如 "widht: calc(12%+5em)" 这种没有空格的写法是错误的；
5. 表达式中有 “\*” 和 “/” 时，其前后可以没有空格，但建议留有空格。

## 一个例子

HTML 结构

```html
<div class="demo">
    <div class="box"></div>
</div>
```

我们添加如下样式

```css
.demo {
    width: 300px;
    background: #60f;
    padding: 3px 0;
}

.box {
    background: #f60;
    height: 50px;
    padding: 10px;
    border: 5px solid green;
    width: 100%;
}
```

此时可想而知，子元素会撑出父元素（当然这里有一个简单的解决方法就是改用**怪异盒子模式**）

<img src="https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301062129974.png" alt="image-20220204114635824" style="zoom:50%;" />

为了解决撑破容器的问题，以前我们只能去计算 div.box 的宽度，用容器宽度减去 padding 和 border 的值，但有时候，我们苦于不知道元素的总宽度，比如说是自适应的布局，只知道一个百分值，但其他的值又是 px 之类的值，这就是难点，死卡住了。随着 CSS3 的出现，其中利用 box-sizing 来改变元素的盒模型类型实使实现效果，但今天我们学习的 calc()方法更是方便。

知道总宽度是 100%，在这个基础上减去 boder 的宽度（5px _ 2 = 10px）,在减去 padding 的宽度（10px _ 2 = 20px），即"100% - (10px + 5px) \* 2 = 30px" ，最终得到的值就是 div.box 的 width 值：

这样一来，子元素的宽度就会根据计算得来，且父元素宽度改变，子元素也不会产生变化。

![clac](https://sbr-1314368469.cos.ap-guangzhou.myqcloud.com/Images/202301062129037.gif)
