---
title: String.prototype.matchAll
author: BigRice
date: 2022-02-21
location: äº‘æ¢¦æ³½
summary: matchAll() å®ä¾‹æ–¹æ³•ä½¿ç”¨ æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å­—ç¬¦ä¸²å°†å…¶æ”¾å…¥ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡å¹¶è¿”å›
tags:
  - API JavaScript
  - StringMethods
---

`matchAll()` å®ä¾‹æ–¹æ³•ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å­—ç¬¦ä¸²å°†å…¶æ”¾å…¥ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡å¹¶è¿”å›

```js
String.matchAll(regexp);
```

> æ³¨æ„
>

-   æ­¤æ–¹æ³•æ˜¯ `String.match()` çš„è¡ç”Ÿç‰ˆï¼Œå…¶è¯­æ³•ä¸ `String.match()` ä¸€è‡´

-   ä¸¤ä¸ªæ–¹æ³•ä¹‹é—´æœ€å¤§çš„åŒºåˆ«ï¼Œ`mathchAll()` è¿”å›çš„æ˜¯**æ­£åˆ™å­—ç¬¦ä¸²å¯è¿­ä»£å¯¹è±¡** ï¼ˆ  `RegExpStringIterator {}` ï¼‰
    -   å¹¶ä¸”å¯¹è±¡ä¸­æ¯ä¸€ç»„å±æ€§åŒ…æ‹¬çš„æ˜¯æ­¤æ­£åˆ™æ•è·çš„**æ‰€æœ‰ä¿¡æ¯**
    -   ä½¿ç”¨ `match()` å®ç°åˆ™éœ€è¦ä¸æ·»åŠ  `g` æ ‡å¿—

|     æ­¤æ–¹æ³•çš„è¿”å›å€¼      | å…¼å®¹æ€§ |
| :---------------------: | :----: |
| RegExpStringIterator {} |   ğŸ”´    |

>  ç¤ºä¾‹
>

 å°†  `RegExpStringIterator {}` è½¬æ¢ä¸ºæ™®é€šæ•°ç»„

```js
// ä½¿ç”¨ ES6 æ‰©å±•è¿ç®—ç¬¦
const array = [...str.matchAll(regexp)];
// ä½¿ç”¨ from æ–¹æ³•
array = Array.from(str.match(regexp));
// ä½¿ç”¨ for...of è¯­æ³•éå†
for(let item of str.match(regexp)){
    array.push(i)
}
// ä½¿ç”¨è¿­ä»£å¯¹è±¡ä¸­çš„ next() æ–¹æ³•éå†
array.push(str.match(regexp).)
```
