---
title: Object.defineProperty
author: BigRice
date: 2022-02-28
location: äº‘æ¢¦æ³½
summary: defineProperty() é™æ€æ–¹æ³•ä¼šç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰æˆ–ä¿®æ”¹ä¸€ä¸ªè‡ªèº«å±æ€§ï¼Œå¹¶æ·±åº¦çš„èµ‹äºˆæƒé™
tags:
  - API JavaScript
  - ObjectMethods
---

`defineProperty()` é™æ€æ–¹æ³•ä¼šç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰æˆ–ä¿®æ”¹**ä¸€ä¸ª**è‡ªèº«å±æ€§ï¼Œå¹¶æ·±åº¦çš„èµ‹äºˆæƒé™

```js
Object.defineProperty(obj, prop, descriptor)
```

-   `obj` éœ€è¦æ“ä½œçš„å¯¹è±¡
-   `prop` è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§æˆ–ä¸€ä¸ª `Symbol`
-   `descriptor` è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§æè¿°ç¬¦ï¼ˆå¯¹è±¡é”®å€¼å¯¹ï¼‰

> æ³¨æ„
>
> æ­¤æ–¹æ³•åº”å½“ç›´æ¥åœ¨ `Object` æ„é€ å™¨å¯¹è±¡ä¸Šä½¿ç”¨ï¼Œè€Œä¸æ˜¯åœ¨ä»»æ„ä¸€ä¸ª `Object` çš„å®ä¾‹ä¸Šè°ƒç”¨ 

##### 

## descriptor

`descriptor` åˆ†ä¸ºæ•°æ®æè¿°ç¬¦ / å­˜å–æè¿°ç¬¦

-   æ•°æ®æè¿°ç¬¦ æ˜¯ä¸€ä¸ªå…·æœ‰å€¼çš„å±æ€§
-   å­˜å–æè¿°ç¬¦ æ˜¯ç”± `getter` å‡½æ•°å’Œ `setter` å‡½æ•°æ‰€æè¿°çš„å±æ€§

|   é€šç”¨çš„å±æ€§   | æè¿°                                                           |
| :------------: | -------------------------------------------------------------- |
| `configurable` | å®šä¹‰ `descriptor` æ˜¯å¦å¯ä»¥é…ç½®ï¼Œå³äºŒæ¬¡ä¿®æ”¹ï¼ˆ é»˜è®¤ä¸º `false` ï¼‰ |
|  `enumerable`  | å®šä¹‰å±æ€§æ˜¯å¦ä¸ºå¯æšä¸¾å±æ€§ï¼ˆ æ˜¯å¦èƒ½éå† ï¼‰ï¼ˆ é»˜è®¤ä¸º `false` ï¼‰   |

| æ•°æ®æè¿°ç¬¦çš„å±æ€§ | æè¿°                                                                                   |
| :--------------: | -------------------------------------------------------------------------------------- |
|     `value`      | è¯¥å±æ€§å¯¹åº”çš„å€¼ï¼Œå¯ä»¥æ˜¯ä»»ä½•æœ‰æ•ˆçš„ JavaScript å€¼ï¼ˆæ•°å€¼ï¼Œå¯¹è±¡ï¼Œå‡½æ•°ç­‰ï¼‰é»˜è®¤ä¸º `undefined` |
|    `writable`    | å®šä¹‰ `value` æ˜¯å¦ä¸ºå¯å†™çŠ¶æ€ï¼ˆ é»˜è®¤ä¸º `false` ï¼‰                                        |

| å­˜å–æè¿°ç¬¦çš„å±æ€§ | æè¿°                                                                                         |
| :--------------: | -------------------------------------------------------------------------------------------- |
|      `get`       | ç»™å±æ€§æä¾› `getter` ï¼Œå¿…é¡»è¦æœ‰ `return` è¯­å¥ï¼Œè¯¥æ–¹æ³•è¿”å›å€¼è¢«ç”¨ä½œå±æ€§å€¼ï¼ˆ é»˜è®¤ä¸º undefined ï¼‰ |
|      `set`       | ç»™å±æ€§æä¾› `setter` ï¼Œè¯¥æ–¹æ³•å°†æ¥å—å”¯ä¸€å‚æ•°ï¼Œå¹¶å°†è¯¥å‚æ•°å€¼åˆ†é…ç»™è¯¥ `get`ï¼ˆ é»˜è®¤ä¸º undefined ï¼‰ |

è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼šä¸€ä¸ªæè¿°ç¬¦åªèƒ½æ˜¯è¿™ä¸¤è€…å…¶ä¸­ä¹‹ä¸€ï¼Œä½¿ç”¨äº† `value` / `writable` å°±ä¸èƒ½ä½¿ç”¨ get / set

|   æ­¤æ–¹æ³•çš„è¿”å›å€¼   | æ­¤æ–¹æ³•ä¼šå½±å“æºå¯¹è±¡å— | å…¼å®¹æ€§ |
| :----------------: | :------------------: | :----: |
| è°ƒç”¨æ­¤æ–¹æ³•çš„æºå¯¹è±¡ |         **ä¼š**         |   ğŸŸ¢   |



> ç¤ºä¾‹

å±æ€§çš„ `getter` ä¸ `setter`

```js
let obj = {};
let str = "è°åœ¨ç”¨çµç¶å¼¹å¥ä¸€æ›²ä¸œæ–¹ç ´~";
Object.defineProperty(obj, "info", {
    set: newValue = (str += newValue),
    get: () = str,
});
obj.info = "çœ‹ä¸è§ä½ çš„ç¬‘ï¼Œ";
obj.info = "è®©æˆ‘æ€ä¹ˆç¡å¾—ç€";
console.log(obj.info); // è°åœ¨ç”¨çµç¶å¼¹å¥ä¸€æ›²ä¸œæ–¹ç ´~çœ‹ä¸è§ä½ çš„ç¬‘ï¼Œè®©æˆ‘æ€ä¹ˆç¡å¾—ç€
```
